<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LearnLink</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/calendar.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script type="importmap">
      {
        "imports": {
          "@fullcalendar/core": "https://cdn.skypack.dev/@fullcalendar/core@6.1.17",
          "@fullcalendar/daygrid": "https://cdn.skypack.dev/@fullcalendar/daygrid@6.1.17"
        }
      }
    </script>
    <script type="module">
      import { Calendar } from "@fullcalendar/core";
      import dayGridPlugin from "@fullcalendar/daygrid";

      document.addEventListener("DOMContentLoaded", function () {
        const calendarEl = document.getElementById("calendar");
        const calendar = new Calendar(calendarEl, {
          plugins: [dayGridPlugin],
          headerToolbar: {
            left: "prev,next today",
            center: "title",
            right: "dayGridMonth,timeGridWeek,timeGridDay,listWeek",
          },
        });
        calendar.render();
        const form = document.getElementById("event-form");

        form.addEventListener("submit", function (e) {
          e.preventDefault();

          const title = document.getElementById("event-title").value;
          const date = document.getElementById("event-date").value;
          const time = document.getElementById("event-time").value;

          if (title && date && time) {
            const dateTime = `${date}T${time}`; // Combine date and time

            calendar.addEvent({
              title: title,
              start: dateTime,
              allDay: false, // Important! false means it's a timed event
            });

            form.reset();
          }
        });
      });
    </script>
  </head>
  <body>
    <nav class="navbar bg-body-tertiary fixed-top border-bottom">
      <div class="container-fluid px-5">
        <a class="navbar-brand" href="#">
          <img
            src="assets/logo-writing.jpeg"
            alt="logo"
            width="150"
            height="65"
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar"
          aria-controls="offcanvasNavbar"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="offcanvas offcanvas-end"
          tabindex="-1"
          id="offcanvasNavbar"
          aria-labelledby="offcanvasNavbarLabel"
        >
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Main Menu</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <a
                  class="nav-link btn btn-outline-primary"
                  aria-current="page"
                  href="dashboard-skills.html"
                  >Main Dashboard</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link btn btn-outline-primary" href="#">Profile</a>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link btn btn-outline-primary"
                  href="dashboard-messages.html"
                  >Messages</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link btn btn-outline-primary" href="calendar.html"
                  >Calendar</a
                >
              </li>
            </ul>
            <button type="button" class="btn btn-danger logout-btn">
              Sign Out
            </button>
          </div>
        </div>
      </div>
    </nav>

    <main class="main-dashboard">
      <button
        type="button"
        class="btn btn-primary add-event"
        data-bs-toggle="modal"
        data-bs-target="#staticBackdrop"
      >
        Add Event
      </button>
      <!-- Modal -->
      <div
        class="modal fade"
        id="staticBackdrop"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="staticBackdropLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <form id="event-form">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="staticBackdropLabel">
                  Add Event
                </h1>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <div class="mb-3">
                  <input
                    type="text"
                    id="event-title"
                    class="form-control"
                    placeholder="Event Title"
                    required
                  />
                </div>
                <div class="mb-3">
                  <input
                    type="date"
                    id="event-date"
                    class="form-control"
                    required
                  />
                </div>
                <div class="mb-3">
                  <input
                    type="time"
                    id="event-time"
                    class="form-control"
                    required
                  />
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Close
                </button>
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
              <p class="add-event-p">
                When you are done with submiting events, press Close
              </p>
            </form>
          </div>
        </div>
      </div>
      <div id="calendar"></div>
    </main>

    <footer class="site-footer">
      <p>&reg; LearnLink 2025 â€“ Part of <span>La Fosse</span> final project</p>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>

    <!-- Scripts -->
    <script src="scripts/index.js" defer></script>

    <script src="scripts/logout.js"></script>
  </body>
</html>
